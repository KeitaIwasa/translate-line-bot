# リリースまでの ToDo リスト

## 1. 企画・要件整理
- [x] 要件定義書の最新版をレビューし、抜け漏れ（非機能要件・運用要件）を最終確認する
- [x] 利用想定グループとメッセージトラフィックの規模を想定し、SLA/SLO を文書化する
- [x] LINE Developers・Gemini・Neon の契約/利用規約チェックとコスト試算を完了する

## 2. 技術設計
- [x] Lambda / API Gateway / Neon / Gemini / LINE API 間のインターフェース仕様書を作成する
- [x] 翻訳プロンプト・Structured Output JSON Schema を確定し、サンプルを含むドキュメント化を行う
- [x] DB スキーマ詳細（インデックス、制約、マイグレーション計画）を決定する

## 3. 実装
- [ ] Lambda ハンドラー／Webhook 受信処理（署名検証含む）を実装
- [ ] Neon とのデータアクセス層（言語設定・メッセージ履歴）を実装
- [ ] Gemini クライアントと翻訳ロジック（文脈投入・レスポンス検証・再試行）を実装
- [ ] LINE Messaging API 返信ロジック（翻訳結果フォーマット、部分成功ハンドリング）を実装
- [ ] 設定管理（環境変数, Secrets 管理）とデプロイ用スクリプトを整備

## 4. テスト
- [ ] 単体テスト：翻訳ロジック／DB リポジトリ／LINE API ラッパー
- [ ] 結合テスト：Webhook 受信から返信までのエンドツーエンド動作
- [ ] 性能テスト：平均 200–350ms を満たすか検証し、ボトルネックを洗い出す
- [ ] エラーハンドリングテスト：Gemini エラー、Neon 接続失敗、壊れたレスポンスなどの再試行挙動

## 5. デプロイ準備
- [ ] AWS 環境（IAM, Lambda, API Gateway, CloudWatch）を IaC or 手動手順で整備
- [ ] Neon プロジェクトを本番用に作成し、接続情報を Lambda に設定
- [ ] Gemini API キーおよび LINE チャネル設定を本番用に切り替え、Webhook URL を登録
- [ ] デプロイ手順書とロールバック手順をまとめる

## 6. リリース / 運用
- [ ] ステージング環境で最終受け入れテストを完了し、Go/No-Go 判定を実行
- [ ] 本番反映後、初回数日の監視体制（当番表・連絡方法）を決める
- [ ] 運用ドキュメント（障害対応フロー、問い合わせ対応）を整備
- [ ] リリースノートとユーザー向けアナウンスを作成・配信
